<div ng-controller="CheckMachineController">
    <return-title link="#" titletext="{{pageApprove ? 'Duyệt phiếu kiểm tra máy' : 'Phiếu kiểm tra máy'}}"></return-title>

    <div class="body-content" ng-if="permission.View">
        <div>
            <button ng-click="getInvoices()" ng-class="pageApprove ? 'btn-width-max': 'btn-with-half'" class="btn btn-primary">
                <i class="glyphicon glyphicon-search"></i>Tìm
            </button>
            <button ng-if="!pageApprove" ng-click="getInvoice(0)" class="btn btn-primary btn-with-half pull-right">
                <i class="glyphicon glyphicon-plus"></i>Thêm mới
            </button>
        </div>

        <div style="padding-top:10px">
            <hr />
            <div ng-repeat="item in invoices" ng-click="getInvoice(item.CheckMachineID)">
                <p>Mã phiếu: {{item.CheckMachineCode}}</p>
                <p>Ngày cập nhật: {{item.ModifiedOn}}</p>
                <p>Tài sản: {{item.AssetCode}}</p>
                <p>
                    Tình trạng: <span class="status-{{item.Status2}}">{{getStatus(item.Status2)}}</span>
                </p>
                <hr />
            </div>
        </div>
        <button class="btn btn-primary btn-width-max" ng-click="loadMore()" ng-show="invoices.length == paging.getRowCount()">Xem thêm</button>
    </div>
    <p class="text-danger" ng-if="!permission.View">Bạn không có quyền menu này</p>
</div>